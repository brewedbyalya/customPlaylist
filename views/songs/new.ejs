<%- include('../partials/header') %>

<main class="container">
  <div class="form-container">
    <h1 class="form-title">Add New Song</h1>
    
    <form action="/songs" method="POST" class="song-form">
      <div class="form-group">
        <label for="title" class="form-label">Song Title*</label>
        <input type="text" id="title" name="title" class="form-input" required>
      </div>
      
      <div class="form-group">
        <label for="artist" class="form-label">Artist*</label>
        <input type="text" id="artist" name="artist" class="form-input" required>
      </div>
      
      <div class="form-group">
        <label for="duration" class="form-label">Duration <small>(mm:ss)</small></label>
        <input type="text" id="duration" name="duration" class="form-input">
      </div>
      
      <div class="form-group">
        <label for="genre" class="form-label">Genre</label>
        <select id="genre" name="genre" class="form-input">
          <option value="">Select a genre</option>
          <option value="Pop">Pop</option>
          <option value="Rock">Rock</option>
          <option value="Hip-Hop">Hip-Hop</option>
          <option value="R&B">R&B</option>
          <option value="Electronic">Electronic</option>
          <option value="Jazz">Jazz</option>
          <option value="Classical">Classical</option>
          <option value="Country">Country</option>
          <option value="Metal">Metal</option>
          <option value="Alternative">Alternative</option>
          <option value="Indie">Indie</option>
          <option value="Other">Other</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="spotifyLink" class="form-label">Spotify Link</label>
        <input type="url" id="spotifyLink" name="spotifyLink" class="form-input">
      </div>
      
      <% if (playlists && playlists.length > 0) { %>
        <div class="form-group">
          <label class="form-label">Add to Playlists</label>
          <div class="checkbox-group">
            <% playlists.forEach(playlist => { %>
              <label class="checkbox-option">
                <input type="checkbox" name="playlists" value="<%= playlist._id %>">
                <span class="checkbox-label"><%= playlist.title %></span>
              </label>
            <% }) %>
          </div>
        </div>
      <% } %>

      <div class="spotify-import">
        <p>Or import from Spotify:</p>
        <a href="/spotify/search" class="btn btn-spotify">
          <i class="fab fa-spotify"></i> Search Spotify
        </a>
      </div>
      
      <div class="form-actions">
        <a href="/" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Add Song</button>
      </div>
    </form>
  </div>
</main>

<%- include('../partials/footer') %>